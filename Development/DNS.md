**DNS**  —  ==это система, которая позволяет пользователям вводить человекопонятные названия сайтов в поисковую строку, а браузеру получать IP-адрес ресурса, к которому нужно обратиться==
![[Pasted image 20231217171004.jpg]]
- Система хранения DNS-данных (зон) распределённая, а вот серверы, на которых хранятся данные выстроены иерархически. На верхнем уровне находятся корневые DNS-серверы, ниже — DNS серверы географических зон, ещё на уровень ниже — локальные DNS-серверы;
- DNS-запрос браузером посылается сначала на локальные DNS-серверы (resolve), а затем уже они ищут нужную DNS-запись по иерархии выше;
- DNS-данные для каждого домена называются DNS-зонами и хранят DNS-записи различных типов;
- DNS-зонами можно управлять с помощью платных и бесплатных сервисов.

1. Когда вы вводите запрос в поисковую строку браузера, например, 1cloud.ru — браузер сначала проверит наличие DNS-записи на вашем локальном компьютере в файле hosts, если там нет нужного адреса, запрос направляется дальше — на локальный DNS-сервер интернет-провайдера пользователя, если и там записи нет, запрос уходит выше на сервера географических зон.

2. Как только нужная DNS-запись найдена, браузер получает IP-адрес, на который посылает запрос. 

Получается, что DNS-запрос поднимается от локальных хранилищ данных до самого верхнего уровня, это быстрее, чем делать запрос сначала к корневому DNS-серверу и идти вниз. К тому же, есть нюанс — опрашивает DNS-сервера второго, верхнего и корневого уровней не браузер, а локальный DNS-сервер — resolver.

Resolver находит сведения о домене, возвращает их браузеру и записывает данные в кеш на 24 часа. Именно отсюда *время обновления DNS-записей может занять до 24 часов*. Но это очень полезное действие, так как при следующем обращении к этому сайту, resolver просто вернет данные из кеша и сайт загрузится быстрее.

>[!info] Пути расположения hosts-файла:
>Windows XP, 2003, Vista, 7, 8, 10:  c:\windows\system32\drivers\etc\hosts
>Linux, Ubuntu, Unix, BSD:  /etc/hosts


>[!tip] С помощью hosts-файла можно делать и другие полезные штуки, например, ограничить доступ к определенным Интернет-ресурсам на локальной машине.

**DNS записи**
Можно посмотреть утилитой dig. Например dig youtube.com
Можно загуглить dig и найти сайт гугла для просмотра dns записей

`a`                    сопоставление записи айпишнику(`aaaa` для IPv6)
`txt`                справочная информация
`mx`                  mail запись. устанавливается сопоставление почтовому сервису
